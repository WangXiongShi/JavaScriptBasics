<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <style type="text/css">
        *{
            margin: 0;
            padding: 0;
        }
        ul{
            list-style: none;
        }
        button{
            margin: 100px 200px;
            width: 80px;
            height: 40px;
			cursor:pointer;
        }
        #list{
            position: absolute;
            width: 120px;
            left: 180px;
            top: 150px;
            background: red;
            text-align: center;
            display: none;
            cursor:pointer;
        }
		/*li:hover{background-color: pink;}*/
    </style>
</head>
<body>
    <button>设置</button>
    <ul id="list">
        <li>我是li1</li>
        <li>我是li2</li>
        <li>我是li3</li>
        <li>我是li4</li>
    </ul>
	
    <script type="text/javascript">
    	var list = document.getElementById('list');
    	var btn = document.getElementsByTagName('button')[0];
    	var lis = list.getElementsByTagName('li');
    	var timer = null;

    	// 给按钮添加鼠标移入事件
    	btn.onmouseenter = function(){
    		clearTimeout(timer);
    		list.style.display = 'block';
    	}
    	// 给按钮添加鼠标移出事件
    	btn.onmouseleave = function(){
    		timer = setTimeout(function(){
    			list.style.display = 'none';
    		},300);
    	}
    	// 给ul添加鼠标移入事件
		list.onmouseenter = function(){
    		this.style.display = 'block';
    		clearTimeout(timer);
    	}
    	// 给ul添加鼠标移出事件
    	list.onmouseleave = function(){
    		this.style.display = 'none';
    	}
    	// 给所有li添加鼠标移入移出事件
		for(var i = 0; i < lis.length; i++){
			lis[i].onmouseenter = function(){
				this.style.background = '#ccc';
			}
			lis[i].onmouseleave = function(){
				this.style.background = 'none';
			}
			lis[i].onclick = function(){
				btn.innerHTML = this.innerHTML;
				list.style.display = 'none';
			}
		}

    </script>
</body>
</html>