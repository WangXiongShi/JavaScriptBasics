<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>
<body>
	<button>添加li</button>
	<ul>
		<li>我是li1</li>
		<li>我是li2</li>
		<li>我是li3</li>
		<li>我是li4</li>
		<li>我是li5</li>
		<li>我是li6
			<div>snjdoisadoisabidnb</div>
		</li>
	</ul>
	<script>
		/*
			事件委托,事件代理
			事件委托,是利用事件冒泡的原理,子级的事件由父级代理完成
			优点:提高性能
		*/
		var ul = document.querySelector('ul');
		// var lis = document.querySelectorAll('ul li');
		var btn = document.querySelector('button');
		var i = 6;
		btn.onclick = function(){
			var li = document.createElement('li');
			i++;
			li.innerHTML = '我是li' + i;
			ul.appendChild(li);
		}
		ul.onclick = function(e){
			var ev = window.event || e;
			var targ = ev.target || ev.srcElement; //兼容ie
			// console.log(ev);
			// console.log(targ);
			// console.log(targ.nodeName.toLowerCase()); //nodeName查看节点名字, toLowerCase()将字母转换为小写
			if(targ.nodeName.toLowerCase() == 'li'){ //如果点到的是li,才让他变色
				for(var i = 0; i < this.children.length; i++){ //这里的for是只改变当前的颜色,其他的颜色为空
					this.children[i].style.background = '';
				}
				targ.style.background = 'red';
			}
		}
	</script>
</body>
</html>